@using CommunicationsApp.Application.Common.Enums;
@model CommunicationsApp.Application.DTOs.ChannelMember

<li id="openChannelMember@(Model.Member.Id)" class="dropdown-item">
    <span class="fw-bold">
        @(Model.Member.Id == ViewBag.CurrentUserId ? "You" : Model.Member.UserName)
    </span> @Model.Member.Email

    @if (ViewBag.CurrentUserId == Model.Member.Id && Model.Role == ChannelRole.Owner)
    {
        @if (Model.Role != ChannelRole.Owner && Model.Member.Id != ViewBag["CurrentUserId"])
        {
            <form class="deleteChannelMemberForm" data-member-id="@Model.Member.Id"
          asp-controller="ChannelMembers"
          asp-action="RemoveMemberFromChannel"
          asp-route-channelId="@Model.Channel.Id"
          asp-route-memberId="@Model.Member.Id">
                <button type="submit" class="btn">
                    <i class="fa-solid fa-xmark" style="color: #e11c0e;">
                        <span class="visually-hidden">Remove</span>
                    </i>
                </button>
            </form>
        }
    }
</li>